{
    "step1": {
        "shell_script_template": "shell_scripts/templates2/1_sbatch_om.sh.j2",
        "shell_script_folder": "shell_scripts/generated/1_sbatches_om",
        "gcp_job_template": "shell_scripts/templates_gcp/1_gcp_om.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/1_gcp_om",
        "odm_core_script": "single_job_{sensor_type}.sh",
        "worker_script": "shell_scripts/worker/1_om.sh",
        "python_script": "",
        "log_folder": "logs_om",
        "sensor": [
            "rgb",
            "ms"
        ],
        "step_dependency": [],
        "date_dependency": "none",
        "validation": "om_validation",
        "model_path": "",
        "output_folder": "orthomosaics/initial/",
        "output_file": "{om}_{sensor_type}_{date}.tif",
        "resources": {
            "cpus": "all",
            "memory": 120,
            "time": "10:00:00",
            "gpu": false,
            "machine_type": "n2-highmem-16"
        }
    },
    "step2": {
        "shell_script_template": "shell_scripts/templates2/2_sbatch_omalign.sh.j2",
        "shell_script_folder": "shell_scripts/generated/2_sbatches_omalign",
        "gcp_job_template": "shell_scripts/templates_gcp/2_gcp_omalign.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/2_gcp_omalign",
        "worker_script": "shell_scripts/worker/2_omalign.sh",
        "python_script": "om_alignment.py",
        "log_folder": "logs_omalign",
        "sensor": [
            "rgb",
            "ms"
        ],
        "step_dependency": [
            "step1"
        ],
        "date_dependency": "previous",
        "validation": "omalign_validation",
        "model_path": "",
        "output_folder": "orthomosaics/aligned/",
        "output_file": "{om}_{sensor_type}_{date}_aligned.tif",
        "shapefiles_alignment_folder": "shapefiles/alignment/",
        "shapefiles_alignment_format": "{om}_pts/{om}_pts.shp",
        "resources": {
            "cpus": "all",
            "memory": 240,
            "time": "1:00:00",
            "partition": "largemem",
            "machine_type": "n2-highmem-32",
            "gpu": false
        }
    },
    "step3": {
        "shell_script_template": "shell_scripts/templates2/3_sbatch_plottile_om.sh.j2",
        "shell_script_folder": "shell_scripts/generated/3_sbatches_plot_tiles_om",
        "gcp_job_template": "shell_scripts/templates_gcp/3_gcp_plottile_om.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/3_gcp_plottile_om",
        "worker_script": "shell_scripts/worker/3_plottile_om.sh",
        "python_script": "plot_tiles_ir_om.py",
        "log_folder": "logs_plot_tiles",
        "sensor": [
            "rgb",
            "ms"
        ],
        "step_dependency": [
            "step2"
        ],
        "date_dependency": "none",
        "validation": "plottiles_validation",
        "model_path": "",
        "source": "om",
        "output_folder": "plottiles/plot_tiles_{sensor_type}_{source}/{om}_{sensor_type}_{date}/",
        "output_file": "{om}_{source}_{crop}_{sensor}_{plot_no}_{band}_{date}.tif",
        "resources": {
            "cpus": 6,
            "memory": 60,
            "time": "00:20:00",
            "gpu": false,
            "machine_type": "n2-highmem-16"
        }
    },
    "step7": {
        "shell_script_template": "shell_scripts/templates2/7_sbatch_plot_to_patch_om.sh.j2",
        "shell_script_folder": "shell_scripts/generated/7_sbatches_plot_to_patch_om",
        "gcp_job_template": "shell_scripts/templates_gcp/7_gcp_plot_to_patch_om.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/7_gcp_plot_to_patch_om",
        "worker_script": "shell_scripts/worker/7_plot_to_patch_om.sh",
        "python_script": "plot_tiles_to_patches.py",
        "log_folder": "logs_plot_to_patch",
        "sensor": [
            "rgb"
        ],
        "step_dependency": [
            "step3"
        ],
        "date_dependency": "none",
        "validation": "plot_patches_validation",
        "model_path": "",
        "source": "om",
        "output_folder": "plot_patches/{om}_{source}_{sensor_type}_{date}/",
        "output_file": "{om}_{source}_{crop}_{sensor_type}_{plot_no}_{date}_{patch_no}.tif",
        "resources": {
            "cpus": 4,
            "memory": 48,
            "time": "00:30:00",
            "gpu": false
        }
    },
    "step9": {
        "shell_script_template": "shell_scripts/templates2/9_sbatch_inf_gs_om.sh.j2",
        "shell_script_folder": "shell_scripts/generated/9_sbatches_inf_gs_om",
        "gcp_job_template": "shell_scripts/templates_gcp/9_gcp_inf_gs_om.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/9_gcp_inf_gs_om",
        "worker_script": "shell_scripts/worker/9_inf_gs_om.sh",
        "python_script": "inference_growth_stage.py",
        "log_folder": "logs_inf_gs",
        "sensor": [
            "rgb"
        ],
        "step_dependency": [
            "step7"
        ],
        "date_dependency": "none",
        "validation": "inf_gs_validation",
        "model_path": ":gcs:data-uas/2025_poc/models/growth_stage/gs_vit_model.pth",
        "source": "om",
        "output_folder": "inference_om/",
        "output_file": "inf_gs_{om}_{source}_{date}.json",
        "resources": {
            "cpus": 8,
            "memory": 32,
            "time": "00:20:00",
            "gpu": false,
            "machine_type": "n2-highmem-8"
        }
    },
    "step10": {
        "shell_script_template": "shell_scripts/templates2/10_sbatch_inf_cc_om.sh.j2",
        "shell_script_folder": "shell_scripts/generated/10_sbatches_inf_cc_om",
        "gcp_job_template": "shell_scripts/templates_gcp/10_gcp_inf_cc_om.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/10_gcp_inf_cc_om",
        "worker_script": "shell_scripts/worker/10_inf_cc_om.sh",
        "python_script": "inference_canopy_cover.py",
        "log_folder": "logs_inf_cc",
        "sensor": [
            "rgb"
        ],
        "step_dependency": [
            "step3"
        ],
        "date_dependency": "none",
        "validation": "inf_cc_validation",
        "model_path": ":gcs:data-uas/2025_poc/models/canopy_coverage/cc_kmeans_model.pkl",
        "source": "om",
        "output_folder": "inference_om/",
        "output_file": "inf_cc_{om}_{source}_{date}.json",
        "resources": {
            "cpus": 4,
            "memory": 100,
            "time": "00:20:00",
            "gpu": false,
            "machine_type": "n2-highmem-16"
        }
    },
    "step11": {
        "shell_script_template": "shell_scripts/templates2/11_sbatch_inf_sr_om.sh.j2",
        "shell_script_folder": "shell_scripts/generated/11_sbatches_inf_sr_om",
        "gcp_job_template": "shell_scripts/templates_gcp/11_gcp_inf_sr_om.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/11_gcp_inf_sr_om",
        "worker_script": "shell_scripts/worker/11_inf_sr_om.sh",
        "python_script": "inference_spectral_reflectance.py",
        "log_folder": "logs_inf_sr",
        "sensor": [
            "ms"
        ],
        "step_dependency": [
            "step3"
        ],
        "date_dependency": "none",
        "validation": "inf_sr_validation",
        "model_path": ":gcs:data-uas/2025_poc/models/spectral_reflectance/sr_rf_classifier_model.pkl",
        "source": "om",
        "output_folder": "inference_om/",
        "output_file": "inf_sr_{om}_{source}_{date}.json",
        "resources": {
            "cpus": 4,
            "memory": 100,
            "time": "00:20:00",
            "gpu": false,
            "machine_type": "n2-highmem-16"
        }
    },
    "step14": {
        "shell_script_template": "shell_scripts/templates2/14_sbatch_process_geojson.sh.j2",
        "shell_script_folder": "shell_scripts/generated/14_sbatches_process_geojson",
        "gcp_job_template": "shell_scripts/templates_gcp/14_gcp_process_geojson.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/14_gcp_process_geojson",
        "worker_script": "shell_scripts/worker/14_process_geojson.sh",
        "python_script": "process_geojson.py",
        "log_folder": "logs_geojson",
        "sensor": [
            "rgb"
        ],
        "step_dependency": [
            "step9",
            "step10",
            "step11"
        ],
        "date_dependency": "none",
        "validation": "process_geojson_validation",
        "model_path": "",
        "output_folder": "{year}/{om}/{date}/",
        "output_file": "{om}_{date}.geojson",
        "resources": {
            "cpus": 4,
            "memory": 100,
            "time": "05:00:00",
            "partition": "cpu",
            "gpu": false,
            "machine_type": "n2-highmem-16"
        }
    },
    "step15": {
        "shell_script_template": "shell_scripts/templates2/15_sbatch_maptiles.sh.j2",
        "shell_script_folder": "shell_scripts/generated/15_sbatches_maptiles",
        "gcp_job_template": "shell_scripts/templates_gcp/15_gcp_maptile.json.j2",
        "gcp_job_folder": "shell_scripts/generated_gcp/15_gcp_maptile",
        "worker_script": "shell_scripts/worker/15_maptile.sh",
        "python_script": "",
        "log_folder": "logs_maptiles",
        "sensor": [
            "rgb"
        ],
        "step_dependency": [
            "step2"
        ],
        "date_dependency": "none",
        "validation": "maptiles_validation",
        "model_path": "",
        "output_folder": "",
        "output_file": "",
        "resources": {
            "cpus": 12,
            "memory": 32,
            "time": "01:00:00",
            "gpu": false,
            "machine_type": "n2-standard-16"
        }
    }
}